the primary revelation i made is that smpt, imap, nntp, web forums, chat, etc are all just messages, and you can use the same backend for all of them. the only difference is asynchronous/threaded messages and synchronous like irc, and even that gets blurred. in this server the messaging is primarily used to annotate documents the server hosts, but it supports all the protocols to access them as well as irc/jabber for chat in the rooms where the documents are stored