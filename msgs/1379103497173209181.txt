Pushed and then tested a bit more and realised still some bugs. Currently getting double input/output for pty. Fixing now.